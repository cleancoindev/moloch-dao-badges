{"ast":null,"code":"module.exports = function () {\n  var buffers = [],\n      length = 0; //just used for debugging...\n\n  function calcLength() {\n    return buffers.reduce(function (a, b) {\n      return a + b.length;\n    }, 0);\n  }\n\n  return {\n    length: length,\n    data: this,\n    add: function (data) {\n      if (!Buffer.isBuffer(data)) throw new Error('data must be a buffer, was: ' + JSON.stringify(data));\n      this.length = length = length + data.length;\n      buffers.push(data);\n      return this;\n    },\n    has: function (n) {\n      if (null == n) return length > 0;\n      return length >= n;\n    },\n    get: function (n) {\n      var _length;\n\n      if (n == null || n === length) {\n        length = 0;\n        var _buffers = buffers;\n        buffers = [];\n        if (_buffers.length == 1) return _buffers[0];else return Buffer.concat(_buffers);\n      } else if (buffers.length > 1 && n <= (_length = buffers[0].length)) {\n        var buf = buffers[0].slice(0, n);\n\n        if (n === _length) {\n          buffers.shift();\n        } else {\n          buffers[0] = buffers[0].slice(n, _length);\n        }\n\n        length -= n;\n        return buf;\n      } else if (n < length) {\n        var out = [],\n            len = 0;\n\n        while (len + buffers[0].length < n) {\n          var b = buffers.shift();\n          len += b.length;\n          out.push(b);\n        }\n\n        if (len < n) {\n          out.push(buffers[0].slice(0, n - len));\n          buffers[0] = buffers[0].slice(n - len, buffers[0].length);\n          this.length = length = length - n;\n        }\n\n        return Buffer.concat(out);\n      } else throw new Error('could not get ' + n + ' bytes');\n    }\n  };\n};","map":{"version":3,"sources":["/home/samkuhlmann/Documents/ody/moloch/moloch-dao-badges/node_modules/pull-reader/state.js"],"names":["module","exports","buffers","length","calcLength","reduce","a","b","data","add","Buffer","isBuffer","Error","JSON","stringify","push","has","n","get","_length","_buffers","concat","buf","slice","shift","out","len"],"mappings":"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","sourcesContent":["\nmodule.exports = function () {\n\n  var buffers = [], length = 0\n\n  //just used for debugging...\n  function calcLength () {\n    return buffers.reduce(function (a, b) {\n      return a + b.length\n    }, 0)\n  }\n\n  return {\n    length: length,\n    data: this,\n    add: function (data) {\n      if(!Buffer.isBuffer(data))\n        throw new Error('data must be a buffer, was: ' + JSON.stringify(data))\n      this.length = length = length + data.length\n      buffers.push(data)\n      return this\n    },\n    has: function (n) {\n      if(null == n) return length > 0\n      return length >= n\n    },\n    get: function (n) {\n      var _length\n      if(n == null || n === length) {\n        length = 0\n        var _buffers = buffers\n        buffers = []\n        if(_buffers.length == 1)\n          return _buffers[0]\n        else\n          return Buffer.concat(_buffers)\n      } else if (buffers.length > 1 && n <= (_length = buffers[0].length)) {\n        var buf = buffers[0].slice(0, n)\n        if(n === _length) {\n          buffers.shift()\n        }\n        else {\n          buffers[0] = buffers[0].slice(n, _length)\n        }\n        length -= n\n        return buf\n      }  else if(n < length) {\n        var out = [], len = 0\n\n        while((len + buffers[0].length) < n) {\n          var b = buffers.shift()\n          len += b.length\n          out.push(b)\n        }\n\n        if(len < n) {\n          out.push(buffers[0].slice(0, n - len))\n          buffers[0] = buffers[0].slice(n - len, buffers[0].length)\n          this.length = length = length - n\n        }\n        return Buffer.concat(out)\n      }\n      else\n        throw new Error('could not get ' + n + ' bytes')\n    }\n  }\n\n}\n\n\n\n\n\n"]},"metadata":{},"sourceType":"script"}