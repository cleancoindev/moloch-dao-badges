{"ast":null,"code":"var _jsxFileName = \"/home/dekan/Projects/raid-guild/dao-badges-web/packages/react-app/src/components/Badges.js\";\nimport React, { useContext } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from \"apollo-boost\";\nconst GET_BADGES = gql`\nquery ($addr: String!){\n  badges(where: {memberAddress: $addr}) {\n    memberAddress\n    voteCount\n    summonCount\n    proposalSponsorCount\n    proposalSubmissionCount\n    rageQuitCount\n    jailedCount\n  }\n}\n`;\nexport const Badges = props => {\n  const {\n    playerAddr\n  } = props;\n  console.log('playerAddr', playerAddr);\n  const [badges, setBadges] = React.useState([]);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_BADGES, {\n    variables: {\n      addr: `${playerAddr}`\n    }\n  });\n  console.log(loading, error, data);\n  React.useEffect(() => {\n    if (!loading && !error && data) {\n      console.log({\n        data: data\n      });\n      setBadges(data.badges);\n    }\n  }, [loading, error, data]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Votes: \", badges.length && badges[0].voteCount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Summons: \", badges.length && badges[0].summonCount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"proposalSponsorCount: \", badges.length && badges[0].proposalSponsorCount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"proposalSubmissionCount: \", badges.length && badges[0].proposalSubmissionCount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"rageQuitCount: \", badges.length && badges[0].rageQuitCount));\n};","map":{"version":3,"sources":["/home/dekan/Projects/raid-guild/dao-badges-web/packages/react-app/src/components/Badges.js"],"names":["React","useContext","useQuery","gql","GET_BADGES","Badges","props","playerAddr","console","log","badges","setBadges","useState","loading","error","data","variables","addr","useEffect","length","voteCount","summonCount","proposalSponsorCount","proposalSubmissionCount","rageQuitCount"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AAEA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,GAAT,QAAoB,cAApB;AAEA,MAAMC,UAAU,GAAGD,GAAI;;;;;;;;;;;;CAAvB;AAcA,OAAO,MAAME,MAAM,GAAIC,KAAD,IAAW;AAC7B,QAAM;AAACC,IAAAA;AAAD,MAAeD,KAArB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,UAA1B;AAEA,QAAM,CAACG,MAAD,EAASC,SAAT,IAAsBX,KAAK,CAACY,QAAN,CAAe,EAAf,CAA5B;AAEA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2Bb,QAAQ,CAACE,UAAD,EAAa;AACtDY,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAG,GAAEV,UAAW;AADX;AAD2C,GAAb,CAAzC;AAIAC,EAAAA,OAAO,CAACC,GAAR,CAAYI,OAAZ,EAAqBC,KAArB,EAA4BC,IAA5B;AAEAf,EAAAA,KAAK,CAACkB,SAAN,CAAgB,MAAM;AACpB,QAAI,CAACL,OAAD,IAAY,CAACC,KAAb,IAAsBC,IAA1B,EAAiC;AAC/BP,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEM,QAAAA,IAAI,EAAEA;AAAR,OAAZ;AACAJ,MAAAA,SAAS,CAACI,IAAI,CAACL,MAAN,CAAT;AACD;AACF,GALD,EAKG,CAACG,OAAD,EAAUC,KAAV,EAAiBC,IAAjB,CALH;AAOA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAWL,MAAM,CAACS,MAAP,IAAiBT,MAAM,CAAC,CAAD,CAAN,CAAUU,SAAtC,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAaV,MAAM,CAACS,MAAP,IAAiBT,MAAM,CAAC,CAAD,CAAN,CAAUW,WAAxC,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAA0BX,MAAM,CAACS,MAAP,IAAiBT,MAAM,CAAC,CAAD,CAAN,CAAUY,oBAArD,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAA6BZ,MAAM,CAACS,MAAP,IAAiBT,MAAM,CAAC,CAAD,CAAN,CAAUa,uBAAxD,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAmBb,MAAM,CAACS,MAAP,IAAiBT,MAAM,CAAC,CAAD,CAAN,CAAUc,aAA9C,CALJ,CADJ;AASH,CA5BM","sourcesContent":["import React, { useContext } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from \"apollo-boost\";\n\nconst GET_BADGES = gql`\nquery ($addr: String!){\n  badges(where: {memberAddress: $addr}) {\n    memberAddress\n    voteCount\n    summonCount\n    proposalSponsorCount\n    proposalSubmissionCount\n    rageQuitCount\n    jailedCount\n  }\n}\n`;\n\nexport const Badges = (props) => {\n    const {playerAddr} = props;\n    console.log('playerAddr', playerAddr);\n    \n    const [badges, setBadges] = React.useState([]);\n\n    const { loading, error, data } = useQuery(GET_BADGES, {\n    variables: {\n      addr: `${playerAddr}`,\n    }});\n    console.log(loading, error, data);\n\n    React.useEffect(() => {\n      if (!loading && !error && data ) {\n        console.log({ data: data });\n        setBadges(data.badges)\n      }\n    }, [loading, error, data]);\n\n    return (\n        <div>\n            <p>Votes: {badges.length && badges[0].voteCount}</p>\n            <p>Summons: {badges.length && badges[0].summonCount}</p>\n            <p>proposalSponsorCount: {badges.length && badges[0].proposalSponsorCount}</p>\n            <p>proposalSubmissionCount: {badges.length && badges[0].proposalSubmissionCount}</p>\n            <p>rageQuitCount: {badges.length && badges[0].rageQuitCount}</p>\n        </div>\n    );\n};"]},"metadata":{},"sourceType":"module"}