{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _filter;\n\nvar _arrayMap = require('lodash/_arrayMap');\n\nvar _arrayMap2 = _interopRequireDefault(_arrayMap);\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _baseProperty = require('lodash/_baseProperty');\n\nvar _baseProperty2 = _interopRequireDefault(_baseProperty);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction filterArray(eachfn, arr, iteratee, callback) {\n  var truthValues = new Array(arr.length);\n  eachfn(arr, function (x, index, callback) {\n    iteratee(x, function (err, v) {\n      truthValues[index] = !!v;\n      callback(err);\n    });\n  }, function (err) {\n    if (err) return callback(err);\n    var results = [];\n\n    for (var i = 0; i < arr.length; i++) {\n      if (truthValues[i]) results.push(arr[i]);\n    }\n\n    callback(null, results);\n  });\n}\n\nfunction filterGeneric(eachfn, coll, iteratee, callback) {\n  var results = [];\n  eachfn(coll, function (x, index, callback) {\n    iteratee(x, function (err, v) {\n      if (err) {\n        callback(err);\n      } else {\n        if (v) {\n          results.push({\n            index: index,\n            value: x\n          });\n        }\n\n        callback();\n      }\n    });\n  }, function (err) {\n    if (err) {\n      callback(err);\n    } else {\n      callback(null, (0, _arrayMap2.default)(results.sort(function (a, b) {\n        return a.index - b.index;\n      }), (0, _baseProperty2.default)('value')));\n    }\n  });\n}\n\nfunction _filter(eachfn, coll, iteratee, callback) {\n  var filter = (0, _isArrayLike2.default)(coll) ? filterArray : filterGeneric;\n  filter(eachfn, coll, (0, _wrapAsync2.default)(iteratee), callback || _noop2.default);\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/home/samkuhlmann/Documents/ody/moloch/moloch-dao-badges/node_modules/async/internal/filter.js"],"names":["Object","defineProperty","exports","value","default","_filter","_arrayMap","require","_arrayMap2","_interopRequireDefault","_isArrayLike","_isArrayLike2","_baseProperty","_baseProperty2","_noop","_noop2","_wrapAsync","_wrapAsync2","obj","__esModule","filterArray","eachfn","arr","iteratee","callback","truthValues","Array","length","x","index","err","v","results","i","push","filterGeneric","coll","sort","a","b","filter","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _filter;\n\nvar _arrayMap = require('lodash/_arrayMap');\n\nvar _arrayMap2 = _interopRequireDefault(_arrayMap);\n\nvar _isArrayLike = require('lodash/isArrayLike');\n\nvar _isArrayLike2 = _interopRequireDefault(_isArrayLike);\n\nvar _baseProperty = require('lodash/_baseProperty');\n\nvar _baseProperty2 = _interopRequireDefault(_baseProperty);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _wrapAsync = require('./wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction filterArray(eachfn, arr, iteratee, callback) {\n    var truthValues = new Array(arr.length);\n    eachfn(arr, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            truthValues[index] = !!v;\n            callback(err);\n        });\n    }, function (err) {\n        if (err) return callback(err);\n        var results = [];\n        for (var i = 0; i < arr.length; i++) {\n            if (truthValues[i]) results.push(arr[i]);\n        }\n        callback(null, results);\n    });\n}\n\nfunction filterGeneric(eachfn, coll, iteratee, callback) {\n    var results = [];\n    eachfn(coll, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            if (err) {\n                callback(err);\n            } else {\n                if (v) {\n                    results.push({ index: index, value: x });\n                }\n                callback();\n            }\n        });\n    }, function (err) {\n        if (err) {\n            callback(err);\n        } else {\n            callback(null, (0, _arrayMap2.default)(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), (0, _baseProperty2.default)('value')));\n        }\n    });\n}\n\nfunction _filter(eachfn, coll, iteratee, callback) {\n    var filter = (0, _isArrayLike2.default)(coll) ? filterArray : filterGeneric;\n    filter(eachfn, coll, (0, _wrapAsync2.default)(iteratee), callback || _noop2.default);\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}