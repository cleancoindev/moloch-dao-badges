{"ast":null,"code":"var _jsxFileName = \"/home/dekan/Projects/raid-guild/dao-badges-web/packages/react-app/src/components/badges/BadgeList.js\";\nimport React, { useEffect } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nimport Badges from '../../assets/data/badges.json';\nconst GET_BADGES = gql`\n  query($addr: String!) {\n    badges(where: { memberAddress: $addr }) {\n      memberAddress\n      voteCount\n      summonCount\n      proposalSponsorCount\n      proposalSubmissionCount\n      rageQuitCount\n      jailedCount\n    }\n  }\n`;\n\nconst BadgeList = props => {\n  const {\n    playerAddr\n  } = props;\n  console.log(\"playerAddr\", playerAddr);\n  const [badges, setBadges] = React.useState([]);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_BADGES, {\n    variables: {\n      addr: `${playerAddr}`\n    }\n  });\n  console.log(loading, error, data);\n  useEffect(() => {\n    if (!loading && !error && data) {\n      console.log({\n        data: data\n      });\n      setBadges(data.badges);\n    }\n  }, [loading, error, data]);\n\n  const renderBadges = () => {\n    Object.entries(badges).map((key, val) => {\n      const badgeSet = Badges.badges.find(badge => badge.title === key);\n      return badgeSet.files.map((badge, idx) => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      }, val > badgeSet.threshHolds[idx] && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"\",\n        src: badgeSet.files[idx],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }\n      }), \"val\")));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, badges.length && renderBadges(), badges.length && badges[0].voteCount && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, badges[0].voteCount > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    src: voteBadgeSm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), \"1\"), badges[0].voteCount > 5 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    src: voteBadgeMd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), \"5\"), badges[0].voteCount > 10 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    src: voteBadgeLg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }), \"10\"))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, \"Votes: \", badges.length && badges[0].voteCount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, \"Summons: \", badges.length && badges[0].summonCount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, \"proposalSponsorCount: \", badges.length && badges[0].proposalSponsorCount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"proposalSubmissionCount:\", \" \", badges.length && badges[0].proposalSubmissionCount), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"rageQuitCount: \", badges.length && badges[0].rageQuitCount));\n};\n\nexport default BadgeList;","map":{"version":3,"sources":["/home/dekan/Projects/raid-guild/dao-badges-web/packages/react-app/src/components/badges/BadgeList.js"],"names":["React","useEffect","useQuery","gql","Badges","GET_BADGES","BadgeList","props","playerAddr","console","log","badges","setBadges","useState","loading","error","data","variables","addr","renderBadges","Object","entries","map","key","val","badgeSet","find","badge","title","files","idx","threshHolds","length","voteCount","voteBadgeSm","voteBadgeMd","voteBadgeLg","summonCount","proposalSponsorCount","proposalSubmissionCount","rageQuitCount"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\n\nimport Badges from '../../assets/data/badges.json';\n\nconst GET_BADGES = gql`\n  query($addr: String!) {\n    badges(where: { memberAddress: $addr }) {\n      memberAddress\n      voteCount\n      summonCount\n      proposalSponsorCount\n      proposalSubmissionCount\n      rageQuitCount\n      jailedCount\n    }\n  }\n`;\n\nconst BadgeList = (props) => {\n  const { playerAddr } = props;\n  console.log(\"playerAddr\", playerAddr);\n\n  const [badges, setBadges] = React.useState([]);\n\n  const { loading, error, data } = useQuery(GET_BADGES, {\n    variables: {\n      addr: `${playerAddr}`,\n    },\n  });\n  console.log(loading, error, data);\n\n  useEffect(() => {\n    if (!loading && !error && data) {\n      console.log({ data: data });\n      setBadges(data.badges);\n    }\n  }, [loading, error, data]);\n\n  const renderBadges = () => {\n    Object.entries(badges).map((key, val) => {\n      const badgeSet = Badges.badges.find((badge) => badge.title === key);\n      return badgeSet.files.map((badge, idx) => (\n        <div>\n          {val > badgeSet.threshHolds[idx] && (\n            <div>\n              <img alt=\"\" src={badgeSet.files[idx]} />val\n          </div>\n          )}\n        </div>\n      ))\n\n    })\n\n  }\n\n  return (\n    <div>\n      {badges.length &&  renderBadges() }\n      {badges.length && badges[0].voteCount && (\n        <div>\n          <div>\n            {badges[0].voteCount > 0 && (\n              <div>\n                <img alt=\"\" src={voteBadgeSm} />1\n              </div>\n            )}\n            {badges[0].voteCount > 5 && (\n              <div>\n                <img alt=\"\" src={voteBadgeMd} />5\n              </div>\n            )}\n            {badges[0].voteCount > 10 && (\n              <div>\n                <img alt=\"\" src={voteBadgeLg} />\n                10\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n      <p>Votes: {badges.length && badges[0].voteCount}</p>\n      <p>Summons: {badges.length && badges[0].summonCount}</p>\n      <p>\n        proposalSponsorCount: {badges.length && badges[0].proposalSponsorCount}\n      </p>\n      <p>\n        proposalSubmissionCount:{\" \"}\n        {badges.length && badges[0].proposalSubmissionCount}\n      </p>\n      <p>rageQuitCount: {badges.length && badges[0].rageQuitCount}</p>\n    </div>\n  );\n};\n\nexport default BadgeList;\n"]},"metadata":{},"sourceType":"module"}