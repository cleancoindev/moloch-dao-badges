{"ast":null,"code":"var _jsxFileName = \"/home/dekan/Projects/raid-guild/dao-badges-web/packages/react-app/src/components/Badges.js\";\nimport React, { useContext } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from \"apollo-boost\";\nconst GET_BADGES = gql`\nquery ($addr: String!){\n  badges(where: {memberAddress: $addr}) {\n    memberAddress\n    voteCount\n    summonCount\n    // proposalSponsorCount\n    // proposalSubmissionCount\n    // rageQuitCount\n    // jailedCount\n  }\n}\n`;\nexport const Badges = props => {\n  const {\n    playerAddr\n  } = props.playerAddr || '';\n  const [badges, setBadges] = React.useState([]);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_BADGES, {\n    variables: {\n      addr: `${playerAddr}`\n    }\n  });\n  console.log(loading, error, data);\n  React.useEffect(() => {\n    if (!loading && !error && data) {\n      console.log({\n        data: data\n      });\n      setBadges(data.badges);\n    }\n  }, [loading, error, data]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Votes: \", badges.length && badges[0].voteCount));\n};","map":{"version":3,"sources":["/home/dekan/Projects/raid-guild/dao-badges-web/packages/react-app/src/components/Badges.js"],"names":["React","useContext","useQuery","gql","GET_BADGES","Badges","props","playerAddr","badges","setBadges","useState","loading","error","data","variables","addr","console","log","useEffect","length","voteCount"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AAEA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,GAAT,QAAoB,cAApB;AAEA,MAAMC,UAAU,GAAGD,GAAI;;;;;;;;;;;;CAAvB;AAcA,OAAO,MAAME,MAAM,GAAIC,KAAD,IAAW;AAC7B,QAAM;AAACC,IAAAA;AAAD,MAAeD,KAAK,CAACC,UAAN,IAAoB,EAAzC;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,KAAK,CAACU,QAAN,CAAe,EAAf,CAA5B;AAGA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BX,QAAQ,CAACE,UAAD,EAAa;AACtDU,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAG,GAAER,UAAW;AADX;AAD2C,GAAb,CAAzC;AAIAS,EAAAA,OAAO,CAACC,GAAR,CAAYN,OAAZ,EAAqBC,KAArB,EAA4BC,IAA5B;AAEAb,EAAAA,KAAK,CAACkB,SAAN,CAAgB,MAAM;AACpB,QAAI,CAACP,OAAD,IAAY,CAACC,KAAb,IAAsBC,IAA1B,EAAiC;AAC/BG,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEJ,QAAAA,IAAI,EAAEA;AAAR,OAAZ;AACAJ,MAAAA,SAAS,CAACI,IAAI,CAACL,MAAN,CAAT;AACD;AACF,GALD,EAKG,CAACG,OAAD,EAAUC,KAAV,EAAiBC,IAAjB,CALH;AAOA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAWL,MAAM,CAACW,MAAP,IAAiBX,MAAM,CAAC,CAAD,CAAN,CAAUY,SAAtC,CADJ,CADJ;AAKH,CAvBM","sourcesContent":["import React, { useContext } from 'react';\n\nimport { useQuery } from '@apollo/react-hooks';\nimport { gql } from \"apollo-boost\";\n\nconst GET_BADGES = gql`\nquery ($addr: String!){\n  badges(where: {memberAddress: $addr}) {\n    memberAddress\n    voteCount\n    summonCount\n    // proposalSponsorCount\n    // proposalSubmissionCount\n    // rageQuitCount\n    // jailedCount\n  }\n}\n`;\n\nexport const Badges = (props) => {\n    const {playerAddr} = props.playerAddr || '';\n    const [badges, setBadges] = React.useState([]);\n\n\n    const { loading, error, data } = useQuery(GET_BADGES, {\n    variables: {\n      addr: `${playerAddr}`,\n    }});\n    console.log(loading, error, data);\n\n    React.useEffect(() => {\n      if (!loading && !error && data ) {\n        console.log({ data: data });\n        setBadges(data.badges)\n      }\n    }, [loading, error, data]);\n\n    return (\n        <div>\n            <p>Votes: {badges.length && badges[0].voteCount}</p>\n        </div>\n    );\n};"]},"metadata":{},"sourceType":"module"}