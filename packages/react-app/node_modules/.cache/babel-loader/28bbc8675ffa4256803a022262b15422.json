{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n\n  return t;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [0, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar types_1 = require(\"./types\");\n\nvar types_2 = require(\"./types\");\n\nexports.ClientError = types_2.ClientError;\n\nrequire(\"cross-fetch/polyfill\");\n\nvar GraphQLClient =\n/** @class */\nfunction () {\n  function GraphQLClient(url, options) {\n    this.url = url;\n    this.options = options || {};\n  }\n\n  GraphQLClient.prototype.rawRequest = function (query, variables) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, headers, others, body, response, result, headers_1, status_1, errorResult;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = this.options, headers = _a.headers, others = __rest(_a, [\"headers\"]);\n            body = JSON.stringify({\n              query: query,\n              variables: variables ? variables : undefined\n            });\n            return [4\n            /*yield*/\n            , fetch(this.url, __assign({\n              method: 'POST',\n              headers: Object.assign({\n                'Content-Type': 'application/json'\n              }, headers),\n              body: body\n            }, others))];\n\n          case 1:\n            response = _b.sent();\n            return [4\n            /*yield*/\n            , getResult(response)];\n\n          case 2:\n            result = _b.sent();\n\n            if (response.ok && !result.errors && result.data) {\n              headers_1 = response.headers, status_1 = response.status;\n              return [2\n              /*return*/\n              , __assign({}, result, {\n                headers: headers_1,\n                status: status_1\n              })];\n            } else {\n              errorResult = typeof result === 'string' ? {\n                error: result\n              } : result;\n              throw new types_1.ClientError(__assign({}, errorResult, {\n                status: response.status,\n                headers: response.headers\n              }), {\n                query: query,\n                variables: variables\n              });\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  GraphQLClient.prototype.request = function (query, variables) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, headers, others, body, response, result, errorResult;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = this.options, headers = _a.headers, others = __rest(_a, [\"headers\"]);\n            body = JSON.stringify({\n              query: query,\n              variables: variables ? variables : undefined\n            });\n            return [4\n            /*yield*/\n            , fetch(this.url, __assign({\n              method: 'POST',\n              headers: Object.assign({\n                'Content-Type': 'application/json'\n              }, headers),\n              body: body\n            }, others))];\n\n          case 1:\n            response = _b.sent();\n            return [4\n            /*yield*/\n            , getResult(response)];\n\n          case 2:\n            result = _b.sent();\n\n            if (response.ok && !result.errors && result.data) {\n              return [2\n              /*return*/\n              , result.data];\n            } else {\n              errorResult = typeof result === 'string' ? {\n                error: result\n              } : result;\n              throw new types_1.ClientError(__assign({}, errorResult, {\n                status: response.status\n              }), {\n                query: query,\n                variables: variables\n              });\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  GraphQLClient.prototype.setHeaders = function (headers) {\n    this.options.headers = headers;\n    return this;\n  };\n\n  GraphQLClient.prototype.setHeader = function (key, value) {\n    var headers = this.options.headers;\n\n    if (headers) {\n      headers[key] = value;\n    } else {\n      this.options.headers = (_a = {}, _a[key] = value, _a);\n    }\n\n    return this;\n\n    var _a;\n  };\n\n  return GraphQLClient;\n}();\n\nexports.GraphQLClient = GraphQLClient;\n\nfunction rawRequest(url, query, variables) {\n  return __awaiter(this, void 0, void 0, function () {\n    var client;\n    return __generator(this, function (_a) {\n      client = new GraphQLClient(url);\n      return [2\n      /*return*/\n      , client.rawRequest(query, variables)];\n    });\n  });\n}\n\nexports.rawRequest = rawRequest;\n\nfunction request(url, query, variables) {\n  return __awaiter(this, void 0, void 0, function () {\n    var client;\n    return __generator(this, function (_a) {\n      client = new GraphQLClient(url);\n      return [2\n      /*return*/\n      , client.request(query, variables)];\n    });\n  });\n}\n\nexports.request = request;\nexports.default = request;\n\nfunction getResult(response) {\n  return __awaiter(this, void 0, void 0, function () {\n    var contentType;\n    return __generator(this, function (_a) {\n      contentType = response.headers.get('Content-Type');\n\n      if (contentType && contentType.startsWith('application/json')) {\n        return [2\n        /*return*/\n        , response.json()];\n      } else {\n        return [2\n        /*return*/\n        , response.text()];\n      }\n\n      return [2\n      /*return*/\n      ];\n    });\n  });\n}","map":{"version":3,"sources":["../../src/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar types_2 = require(\"./types\");\nexports.ClientError = types_2.ClientError;\nrequire(\"cross-fetch/polyfill\");\nvar GraphQLClient = /** @class */ (function () {\n    function GraphQLClient(url, options) {\n        this.url = url;\n        this.options = options || {};\n    }\n    GraphQLClient.prototype.rawRequest = function (query, variables) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, headers, others, body, response, result, headers_1, status_1, errorResult;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this.options, headers = _a.headers, others = __rest(_a, [\"headers\"]);\n                        body = JSON.stringify({\n                            query: query,\n                            variables: variables ? variables : undefined,\n                        });\n                        return [4 /*yield*/, fetch(this.url, __assign({ method: 'POST', headers: Object.assign({ 'Content-Type': 'application/json' }, headers), body: body }, others))];\n                    case 1:\n                        response = _b.sent();\n                        return [4 /*yield*/, getResult(response)];\n                    case 2:\n                        result = _b.sent();\n                        if (response.ok && !result.errors && result.data) {\n                            headers_1 = response.headers, status_1 = response.status;\n                            return [2 /*return*/, __assign({}, result, { headers: headers_1, status: status_1 })];\n                        }\n                        else {\n                            errorResult = typeof result === 'string' ? { error: result } : result;\n                            throw new types_1.ClientError(__assign({}, errorResult, { status: response.status, headers: response.headers }), { query: query, variables: variables });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    GraphQLClient.prototype.request = function (query, variables) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, headers, others, body, response, result, errorResult;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this.options, headers = _a.headers, others = __rest(_a, [\"headers\"]);\n                        body = JSON.stringify({\n                            query: query,\n                            variables: variables ? variables : undefined,\n                        });\n                        return [4 /*yield*/, fetch(this.url, __assign({ method: 'POST', headers: Object.assign({ 'Content-Type': 'application/json' }, headers), body: body }, others))];\n                    case 1:\n                        response = _b.sent();\n                        return [4 /*yield*/, getResult(response)];\n                    case 2:\n                        result = _b.sent();\n                        if (response.ok && !result.errors && result.data) {\n                            return [2 /*return*/, result.data];\n                        }\n                        else {\n                            errorResult = typeof result === 'string' ? { error: result } : result;\n                            throw new types_1.ClientError(__assign({}, errorResult, { status: response.status }), { query: query, variables: variables });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    GraphQLClient.prototype.setHeaders = function (headers) {\n        this.options.headers = headers;\n        return this;\n    };\n    GraphQLClient.prototype.setHeader = function (key, value) {\n        var headers = this.options.headers;\n        if (headers) {\n            headers[key] = value;\n        }\n        else {\n            this.options.headers = (_a = {}, _a[key] = value, _a);\n        }\n        return this;\n        var _a;\n    };\n    return GraphQLClient;\n}());\nexports.GraphQLClient = GraphQLClient;\nfunction rawRequest(url, query, variables) {\n    return __awaiter(this, void 0, void 0, function () {\n        var client;\n        return __generator(this, function (_a) {\n            client = new GraphQLClient(url);\n            return [2 /*return*/, client.rawRequest(query, variables)];\n        });\n    });\n}\nexports.rawRequest = rawRequest;\nfunction request(url, query, variables) {\n    return __awaiter(this, void 0, void 0, function () {\n        var client;\n        return __generator(this, function (_a) {\n            client = new GraphQLClient(url);\n            return [2 /*return*/, client.request(query, variables)];\n        });\n    });\n}\nexports.request = request;\nexports.default = request;\nfunction getResult(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var contentType;\n        return __generator(this, function (_a) {\n            contentType = response.headers.get('Content-Type');\n            if (contentType && contentType.startsWith('application/json')) {\n                return [2 /*return*/, response.json()];\n            }\n            else {\n                return [2 /*return*/, response.text()];\n            }\n            return [2 /*return*/];\n        });\n    });\n}\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}