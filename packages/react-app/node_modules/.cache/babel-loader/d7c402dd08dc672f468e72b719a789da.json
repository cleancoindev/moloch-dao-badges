{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst lower_bound_1 = require(\"./lower-bound\");\n\nclass PriorityQueue {\n  constructor() {\n    Object.defineProperty(this, \"_queue\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: []\n    });\n  }\n\n  enqueue(run, options) {\n    options = Object.assign({\n      priority: 0\n    }, options);\n    const element = {\n      priority: options.priority,\n      run\n    };\n\n    if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n      this._queue.push(element);\n\n      return;\n    }\n\n    const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n\n    this._queue.splice(index, 0, element);\n  }\n\n  dequeue() {\n    const item = this._queue.shift();\n\n    return item && item.run;\n  }\n\n  filter(options) {\n    return this._queue.filter(element => element.priority === options.priority).map(element => element.run);\n  }\n\n  get size() {\n    return this._queue.length;\n  }\n\n}\n\nexports.default = PriorityQueue;","map":{"version":3,"sources":["/home/dekan/Projects/raid-guild/dao-badges-web/node_modules/p-queue/dist/priority-queue.js"],"names":["Object","defineProperty","exports","value","lower_bound_1","require","PriorityQueue","constructor","enumerable","configurable","writable","enqueue","run","options","assign","priority","element","size","_queue","push","index","default","a","b","splice","dequeue","item","shift","filter","map","length"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,aAAa,GAAGC,OAAO,CAAC,eAAD,CAA7B;;AACA,MAAMC,aAAN,CAAoB;AAChBC,EAAAA,WAAW,GAAG;AACVP,IAAAA,MAAM,CAACC,cAAP,CAAsB,IAAtB,EAA4B,QAA5B,EAAsC;AAClCO,MAAAA,UAAU,EAAE,IADsB;AAElCC,MAAAA,YAAY,EAAE,IAFoB;AAGlCC,MAAAA,QAAQ,EAAE,IAHwB;AAIlCP,MAAAA,KAAK,EAAE;AAJ2B,KAAtC;AAMH;;AACDQ,EAAAA,OAAO,CAACC,GAAD,EAAMC,OAAN,EAAe;AAClBA,IAAAA,OAAO,GAAGb,MAAM,CAACc,MAAP,CAAc;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAd,EAA+BF,OAA/B,CAAV;AACA,UAAMG,OAAO,GAAG;AACZD,MAAAA,QAAQ,EAAEF,OAAO,CAACE,QADN;AAEZH,MAAAA;AAFY,KAAhB;;AAIA,QAAI,KAAKK,IAAL,IAAa,KAAKC,MAAL,CAAY,KAAKD,IAAL,GAAY,CAAxB,EAA2BF,QAA3B,IAAuCF,OAAO,CAACE,QAAhE,EAA0E;AACtE,WAAKG,MAAL,CAAYC,IAAZ,CAAiBH,OAAjB;;AACA;AACH;;AACD,UAAMI,KAAK,GAAGhB,aAAa,CAACiB,OAAd,CAAsB,KAAKH,MAA3B,EAAmCF,OAAnC,EAA4C,CAACM,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACR,QAAF,GAAaO,CAAC,CAACP,QAArE,CAAd;;AACA,SAAKG,MAAL,CAAYM,MAAZ,CAAmBJ,KAAnB,EAA0B,CAA1B,EAA6BJ,OAA7B;AACH;;AACDS,EAAAA,OAAO,GAAG;AACN,UAAMC,IAAI,GAAG,KAAKR,MAAL,CAAYS,KAAZ,EAAb;;AACA,WAAOD,IAAI,IAAIA,IAAI,CAACd,GAApB;AACH;;AACDgB,EAAAA,MAAM,CAACf,OAAD,EAAU;AACZ,WAAO,KAAKK,MAAL,CAAYU,MAAZ,CAAmBZ,OAAO,IAAIA,OAAO,CAACD,QAAR,KAAqBF,OAAO,CAACE,QAA3D,EAAqEc,GAArE,CAAyEb,OAAO,IAAIA,OAAO,CAACJ,GAA5F,CAAP;AACH;;AACD,MAAIK,IAAJ,GAAW;AACP,WAAO,KAAKC,MAAL,CAAYY,MAAnB;AACH;;AA/Be;;AAiCpB5B,OAAO,CAACmB,OAAR,GAAkBf,aAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lower_bound_1 = require(\"./lower-bound\");\nclass PriorityQueue {\n    constructor() {\n        Object.defineProperty(this, \"_queue\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: []\n        });\n    }\n    enqueue(run, options) {\n        options = Object.assign({ priority: 0 }, options);\n        const element = {\n            priority: options.priority,\n            run\n        };\n        if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n            this._queue.push(element);\n            return;\n        }\n        const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n        this._queue.splice(index, 0, element);\n    }\n    dequeue() {\n        const item = this._queue.shift();\n        return item && item.run;\n    }\n    filter(options) {\n        return this._queue.filter(element => element.priority === options.priority).map(element => element.run);\n    }\n    get size() {\n        return this._queue.length;\n    }\n}\nexports.default = PriorityQueue;\n"]},"metadata":{},"sourceType":"script"}