{"ast":null,"code":"var noop = function () {};\n\nfunction abortAll(ary, abort, cb) {\n  var n = ary.length;\n  if (!n) return cb(abort);\n  ary.forEach(function (f) {\n    if (f) f(abort, next);else next();\n  });\n\n  function next() {\n    if (--n) return;\n    cb(abort);\n  }\n\n  if (!n) next();\n}\n\nmodule.exports = function (streams) {\n  return function (abort, cb) {\n    ;\n\n    (function next() {\n      if (abort) abortAll(streams, abort, cb);else if (!streams.length) cb(true);else if (!streams[0]) streams.shift(), next();else streams[0](null, function (err, data) {\n        if (err) {\n          streams.shift(); //drop the first, has already ended.\n\n          if (err === true) next();else abortAll(streams, err, cb);\n        } else cb(null, data);\n      });\n    })();\n  };\n};","map":{"version":3,"sources":["/home/dekan/Projects/raid-guild/dao-badges-web/node_modules/pull-cat/index.js"],"names":["noop","abortAll","ary","abort","cb","n","length","forEach","f","next","module","exports","streams","shift","err","data"],"mappings":"AAAA,IAAIA,IAAI,GAAG,YAAY,CAAE,CAAzB;;AAEA,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,KAAvB,EAA8BC,EAA9B,EAAkC;AAChC,MAAIC,CAAC,GAAGH,GAAG,CAACI,MAAZ;AACA,MAAG,CAACD,CAAJ,EAAO,OAAOD,EAAE,CAACD,KAAD,CAAT;AACPD,EAAAA,GAAG,CAACK,OAAJ,CAAY,UAAUC,CAAV,EAAa;AACvB,QAAGA,CAAH,EAAMA,CAAC,CAACL,KAAD,EAAQM,IAAR,CAAD,CAAN,KACKA,IAAI;AACV,GAHD;;AAKA,WAASA,IAAT,GAAgB;AACd,QAAG,EAAEJ,CAAL,EAAQ;AACRD,IAAAA,EAAE,CAACD,KAAD,CAAF;AACD;;AACD,MAAG,CAACE,CAAJ,EAAOI,IAAI;AACZ;;AAEDC,MAAM,CAACC,OAAP,GAAiB,UAAUC,OAAV,EAAmB;AAClC,SAAO,UAAUT,KAAV,EAAiBC,EAAjB,EAAqB;AAC1B;;AAAC,KAAC,SAASK,IAAT,GAAiB;AACjB,UAAGN,KAAH,EACEF,QAAQ,CAACW,OAAD,EAAUT,KAAV,EAAiBC,EAAjB,CAAR,CADF,KAEK,IAAG,CAACQ,OAAO,CAACN,MAAZ,EACHF,EAAE,CAAC,IAAD,CAAF,CADG,KAEA,IAAG,CAACQ,OAAO,CAAC,CAAD,CAAX,EACHA,OAAO,CAACC,KAAR,IAAiBJ,IAAI,EAArB,CADG,KAGHG,OAAO,CAAC,CAAD,CAAP,CAAW,IAAX,EAAiB,UAAUE,GAAV,EAAeC,IAAf,EAAqB;AACpC,YAAGD,GAAH,EAAQ;AACNF,UAAAA,OAAO,CAACC,KAAR,GADM,CACU;;AAChB,cAAGC,GAAG,KAAK,IAAX,EAAiBL,IAAI,GAArB,KACiBR,QAAQ,CAACW,OAAD,EAAUE,GAAV,EAAeV,EAAf,CAAR;AAClB,SAJD,MAMEA,EAAE,CAAC,IAAD,EAAOW,IAAP,CAAF;AACH,OARD;AASH,KAjBA;AAkBF,GAnBD;AAoBD,CArBD","sourcesContent":["var noop = function () {}\n\nfunction abortAll(ary, abort, cb) {\n  var n = ary.length\n  if(!n) return cb(abort)\n  ary.forEach(function (f) {\n    if(f) f(abort, next)\n    else next()\n  })\n\n  function next() {\n    if(--n) return\n    cb(abort)\n  }\n  if(!n) next()\n}\n\nmodule.exports = function (streams) {\n  return function (abort, cb) {\n    ;(function next () {\n      if(abort)\n        abortAll(streams, abort, cb)\n      else if(!streams.length)\n        cb(true)\n      else if(!streams[0])\n        streams.shift(), next()\n      else\n        streams[0](null, function (err, data) {\n          if(err) {\n            streams.shift() //drop the first, has already ended.\n            if(err === true) next()\n            else             abortAll(streams, err, cb)\n          }\n          else\n            cb(null, data)\n        })\n    })()\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"script"}