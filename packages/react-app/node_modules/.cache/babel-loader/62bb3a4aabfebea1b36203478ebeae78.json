{"ast":null,"code":"/* @flow */\n'use strict';\n\nconst Key = require('./key');\n\nconst MemoryDatastore = require('./memory');\n\nconst utils = require('./utils');\n\nconst Errors = require('./errors');\n\nexports.Key = Key;\nexports.MemoryDatastore = MemoryDatastore;\nexports.utils = utils;\nexports.Errors = Errors;\n/* ::\n// -- Basics\n\nexport type Callback<Value> = (err: ?Error, ?Value) => void\n\n// eslint-disable-next-line\nexport interface Datastore<Value> {\n  // eslint-disable-next-line\n  put(Key, Value, Callback<void>): void;\n  // eslint-disable-next-line\n  get(Key, Callback<Value>): void;\n  has(Key, Callback<bool>): void;\n  delete(Key, Callback<void>): void;\n  // eslint-disable-next-line\n  query(Query<Value>): QueryResult<Value>;\n\n  // eslint-disable-next-line\n  batch(): Batch<Value>;\n  close(Callback<void>): void;\n  open(Callback<void>): void;\n}\n\n// -- Batch\nexport type Batch<Value> = {\n  put(Key, Value): void,\n  delete(Key): void,\n  commit(Callback<void>): void\n}\n\n// -- Query\n\nexport type Query<Value> = {\n  prefix?: string,\n  filters?: Array<Filter<Value>>,\n  orders?: Array<Order<Value>>,\n  limit?: number,\n  offset?: number,\n  keysOnly?: bool\n}\n\nexport type PullEnd = bool | Error\nexport type PullSource<Val> = (end: ?PullEnd, (end: ?PullEnd, Val) => void) => void\n\nexport type QueryResult<Value> = PullSource<QueryEntry<Value>>\n\nexport type QueryEntry<Value> = {\n  key: Key,\n  value?: Value\n}\n\nexport type Filter<Value> = (QueryEntry<Value>, Callback<bool>) => void\n\nexport type Order<Value> = (QueryResult<Value>, Callback<QueryResult<Value>>) => void\n\n*/","map":{"version":3,"sources":["/home/samkuhlmann/Documents/ody/moloch/moloch-dao-badges/node_modules/ipfs/node_modules/ipfs-repo/node_modules/interface-datastore/src/index.js"],"names":["Key","require","MemoryDatastore","utils","Errors","exports"],"mappings":"AAAA;AACA;;AAEA,MAAMA,GAAG,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,MAAMC,eAAe,GAAGD,OAAO,CAAC,UAAD,CAA/B;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,SAAD,CAArB;;AACA,MAAMG,MAAM,GAAGH,OAAO,CAAC,UAAD,CAAtB;;AAEAI,OAAO,CAACL,GAAR,GAAcA,GAAd;AACAK,OAAO,CAACH,eAAR,GAA0BA,eAA1B;AACAG,OAAO,CAACF,KAAR,GAAgBA,KAAhB;AACAE,OAAO,CAACD,MAAR,GAAiBA,MAAjB;AAEA","sourcesContent":["/* @flow */\n'use strict'\n\nconst Key = require('./key')\nconst MemoryDatastore = require('./memory')\nconst utils = require('./utils')\nconst Errors = require('./errors')\n\nexports.Key = Key\nexports.MemoryDatastore = MemoryDatastore\nexports.utils = utils\nexports.Errors = Errors\n\n/* ::\n// -- Basics\n\nexport type Callback<Value> = (err: ?Error, ?Value) => void\n\n// eslint-disable-next-line\nexport interface Datastore<Value> {\n  // eslint-disable-next-line\n  put(Key, Value, Callback<void>): void;\n  // eslint-disable-next-line\n  get(Key, Callback<Value>): void;\n  has(Key, Callback<bool>): void;\n  delete(Key, Callback<void>): void;\n  // eslint-disable-next-line\n  query(Query<Value>): QueryResult<Value>;\n\n  // eslint-disable-next-line\n  batch(): Batch<Value>;\n  close(Callback<void>): void;\n  open(Callback<void>): void;\n}\n\n// -- Batch\nexport type Batch<Value> = {\n  put(Key, Value): void,\n  delete(Key): void,\n  commit(Callback<void>): void\n}\n\n// -- Query\n\nexport type Query<Value> = {\n  prefix?: string,\n  filters?: Array<Filter<Value>>,\n  orders?: Array<Order<Value>>,\n  limit?: number,\n  offset?: number,\n  keysOnly?: bool\n}\n\nexport type PullEnd = bool | Error\nexport type PullSource<Val> = (end: ?PullEnd, (end: ?PullEnd, Val) => void) => void\n\nexport type QueryResult<Value> = PullSource<QueryEntry<Value>>\n\nexport type QueryEntry<Value> = {\n  key: Key,\n  value?: Value\n}\n\nexport type Filter<Value> = (QueryEntry<Value>, Callback<bool>) => void\n\nexport type Order<Value> = (QueryResult<Value>, Callback<QueryResult<Value>>) => void\n\n*/\n"]},"metadata":{},"sourceType":"script"}