{"ast":null,"code":"'use strict';\n\nconst errCode = require('err-code');\n\nmodule.exports = (options = {}, defaults) => {\n  if (Array.isArray(options)) {\n    options = options.filter(arg => typeof arg === 'object').pop() || {};\n  }\n\n  const output = {};\n\n  for (const key in defaults) {\n    if (options[key] !== null && options[key] !== undefined) {\n      output[key] = options[key];\n    } else {\n      output[key] = defaults[key];\n    }\n  }\n\n  const format = output.format || output.codec;\n\n  if (format && isNaN(format)) {\n    output.format = format;\n    delete output.codec;\n  } // support legacy go arguments\n\n\n  if (options.count !== undefined) {\n    output.length = options.count;\n  }\n\n  if (options.p !== undefined) {\n    output.parents = options.p;\n  }\n\n  if (options.l !== undefined) {\n    output.long = options.l;\n  }\n\n  if (!output.length && output.length !== 0) {\n    output.length = Infinity;\n  }\n\n  if (output.offset < 0) {\n    throw errCode(new Error('cannot have negative write offset'), 'ERR_INVALID_PARAMS');\n  }\n\n  if (output.length < 0) {\n    throw errCode(new Error('cannot have negative byte count'), 'ERR_INVALID_PARAMS');\n  }\n\n  return output;\n};","map":{"version":3,"sources":["/home/dekan/Projects/raid-guild/dao-badges-web/node_modules/ipfs-mfs/src/core/utils/apply-default-options.js"],"names":["errCode","require","module","exports","options","defaults","Array","isArray","filter","arg","pop","output","key","undefined","format","codec","isNaN","count","length","p","parents","l","long","Infinity","offset","Error"],"mappings":"AAAA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CAACC,OAAO,GAAG,EAAX,EAAeC,QAAf,KAA4B;AAC3C,MAAIC,KAAK,CAACC,OAAN,CAAcH,OAAd,CAAJ,EAA4B;AAC1BA,IAAAA,OAAO,GAAGA,OAAO,CAACI,MAAR,CAAeC,GAAG,IAAI,OAAOA,GAAP,KAAe,QAArC,EAA+CC,GAA/C,MAAwD,EAAlE;AACD;;AAED,QAAMC,MAAM,GAAG,EAAf;;AAEA,OAAK,MAAMC,GAAX,IAAkBP,QAAlB,EAA4B;AAC1B,QAAID,OAAO,CAACQ,GAAD,CAAP,KAAiB,IAAjB,IAAyBR,OAAO,CAACQ,GAAD,CAAP,KAAiBC,SAA9C,EAAyD;AACvDF,MAAAA,MAAM,CAACC,GAAD,CAAN,GAAcR,OAAO,CAACQ,GAAD,CAArB;AACD,KAFD,MAEO;AACLD,MAAAA,MAAM,CAACC,GAAD,CAAN,GAAcP,QAAQ,CAACO,GAAD,CAAtB;AACD;AACF;;AAED,QAAME,MAAM,GAAGH,MAAM,CAACG,MAAP,IAAiBH,MAAM,CAACI,KAAvC;;AAEA,MAAID,MAAM,IAAIE,KAAK,CAACF,MAAD,CAAnB,EAA6B;AAC3BH,IAAAA,MAAM,CAACG,MAAP,GAAgBA,MAAhB;AACA,WAAOH,MAAM,CAACI,KAAd;AACD,GApB0C,CAsB3C;;;AACA,MAAIX,OAAO,CAACa,KAAR,KAAkBJ,SAAtB,EAAiC;AAC/BF,IAAAA,MAAM,CAACO,MAAP,GAAgBd,OAAO,CAACa,KAAxB;AACD;;AAED,MAAIb,OAAO,CAACe,CAAR,KAAcN,SAAlB,EAA6B;AAC3BF,IAAAA,MAAM,CAACS,OAAP,GAAiBhB,OAAO,CAACe,CAAzB;AACD;;AAED,MAAIf,OAAO,CAACiB,CAAR,KAAcR,SAAlB,EAA6B;AAC3BF,IAAAA,MAAM,CAACW,IAAP,GAAclB,OAAO,CAACiB,CAAtB;AACD;;AAED,MAAI,CAACV,MAAM,CAACO,MAAR,IAAkBP,MAAM,CAACO,MAAP,KAAkB,CAAxC,EAA2C;AACzCP,IAAAA,MAAM,CAACO,MAAP,GAAgBK,QAAhB;AACD;;AAED,MAAIZ,MAAM,CAACa,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAMxB,OAAO,CAAC,IAAIyB,KAAJ,CAAU,mCAAV,CAAD,EAAiD,oBAAjD,CAAb;AACD;;AAED,MAAId,MAAM,CAACO,MAAP,GAAgB,CAApB,EAAuB;AACrB,UAAMlB,OAAO,CAAC,IAAIyB,KAAJ,CAAU,iCAAV,CAAD,EAA+C,oBAA/C,CAAb;AACD;;AAED,SAAOd,MAAP;AACD,CAhDD","sourcesContent":["'use strict'\n\nconst errCode = require('err-code')\n\nmodule.exports = (options = {}, defaults) => {\n  if (Array.isArray(options)) {\n    options = options.filter(arg => typeof arg === 'object').pop() || {}\n  }\n\n  const output = {}\n\n  for (const key in defaults) {\n    if (options[key] !== null && options[key] !== undefined) {\n      output[key] = options[key]\n    } else {\n      output[key] = defaults[key]\n    }\n  }\n\n  const format = output.format || output.codec\n\n  if (format && isNaN(format)) {\n    output.format = format\n    delete output.codec\n  }\n\n  // support legacy go arguments\n  if (options.count !== undefined) {\n    output.length = options.count\n  }\n\n  if (options.p !== undefined) {\n    output.parents = options.p\n  }\n\n  if (options.l !== undefined) {\n    output.long = options.l\n  }\n\n  if (!output.length && output.length !== 0) {\n    output.length = Infinity\n  }\n\n  if (output.offset < 0) {\n    throw errCode(new Error('cannot have negative write offset'), 'ERR_INVALID_PARAMS')\n  }\n\n  if (output.length < 0) {\n    throw errCode(new Error('cannot have negative byte count'), 'ERR_INVALID_PARAMS')\n  }\n\n  return output\n}\n"]},"metadata":{},"sourceType":"script"}